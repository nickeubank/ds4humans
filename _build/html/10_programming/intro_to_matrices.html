
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intro to Matrices &#8212; Data Science for Humans</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Data Science for Humans</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../landing_page.html">
   Welcome to Data Science for Humans
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00_introduction/00_overview.html">
   Introduction to Data Science for Humans
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00_introduction/10_data_science_in_historical_context.html">
   What
   <em>
    is
   </em>
   Data Science: An Historical Perspective
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00_introduction/20_our_approach.html">
   About that title…Data Science for Humans?!?
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Types of Questions
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../20_questions/00_from_problems_to_questions.html">
   From Problems to Questions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../20_questions/10_exploratory_questions.html">
   Exploratory Questions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../20_questions/20_passive_prediction_questions.html">
   Classification Questions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../20_questions/30_causal_questions.html">
   Causal Questions
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data Science in Practice
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../30_in_practice/00_backwards_design.html">
   Backwards Design
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../30_in_practice/10_ethics.html">
   Ethics in Data Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../30_in_practice/20_from_data_to_decisions.html">
   Making Decisions Using Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../30_in_practice/25_writing_to_stakeholders.html">
   Writing Data Science Report for Non-Technical Audiences
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Advanced Topics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../40_advanced_topics/30_interpretability.html">
   Interpretable Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00_introduction/01_JoshTest.html">
   Test
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/10_programming/intro_to_matrices.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/nickeubank/ds4humans"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/nickeubank/ds4humans/issues/new?title=Issue%20on%20page%20%2F10_programming/intro_to_matrices.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/nickeubank/ds4humans/master?urlpath=tree/docs/10_programming/intro_to_matrices.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#why-learn-about-matrices">
   Why Learn About Matrices?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#constructing-matrices">
   Constructing Matrices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matrix-math">
   Matrix Math
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summarizing-matrices">
   Summarizing Matrices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#linear-algebra">
   Linear Algebra
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#linear-regression-with-matrices">
   Linear Regression with Matrices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recap">
   Recap
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#next-steps">
   Next Steps
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Intro to Matrices</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#why-learn-about-matrices">
   Why Learn About Matrices?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#constructing-matrices">
   Constructing Matrices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matrix-math">
   Matrix Math
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summarizing-matrices">
   Summarizing Matrices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#linear-algebra">
   Linear Algebra
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#linear-regression-with-matrices">
   Linear Regression with Matrices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recap">
   Recap
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#next-steps">
   Next Steps
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="intro-to-matrices">
<h1>Intro to Matrices<a class="headerlink" href="#intro-to-matrices" title="Permalink to this headline">¶</a></h1>
<p>Matrices are a natural extension of the vectors that we have been working with in the last couple reading; where a vector is a collection of data of the same type ordered along a <em>single</em> dimension, a matrix is a collection of data of the same type ordered along <em>two</em> dimensions.</p>
<p>If you’ve taken a linear algebra course before, the idea of a matrix will be very familiar, but if you haven’t,  you can think of a matrix as a collection of vectors lined up side-by-side. For example a 3x3 matrix might look something like:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix} 
1 &amp; 2 &amp; 3 \\
4 &amp; 5 &amp; 6 \\
7 &amp; 8 &amp; 9 \\
\end{bmatrix}
\quad
\end{split}\]</div>
<p>Just as vectors are commonly used in social science because we usually don’t just have a single observation of data, but instead lots of observations (different survey respondents) that we might want to put into vector, so too do we often have information not just on one type of measurement (age), but lots of different measurements about each observation (age, income, years of education, etc.). Matrices are commonly used to represent this type of data by using each row for an observation (an  survey respondent), and each column for a different thing were measuring.</p>
<p>For example, suppose we surveyed three people, and the first one was twenty years old, had an income of 22,000 dollars, and twelve years of education, the second one was thirty five years old, had an income of 65,000 dollars, and sixteen years of education, and the third was fifty five years old, had an income of 19,000 dollars, and had eleven years of education. We could represent that information in a matrix that looks like:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix} 
20 &amp; 22000 &amp; 12 \\
35 &amp; 65000 &amp; 16 \\
55 &amp; 19000 &amp; 11 \\
\end{bmatrix}
\quad
\end{split}\]</div>
<p>And while it may not be immediately obvious why, this way of representing our data will turn out to not only be a useful organizational scheme, but it will be incredibly valuable for statistical analyses.</p>
<div class="section" id="why-learn-about-matrices">
<h2>Why Learn About Matrices?<a class="headerlink" href="#why-learn-about-matrices" title="Permalink to this headline">¶</a></h2>
<p>There are three reasons to learn about matrices as a social scientist.</p>
<p>The first is that matrices underlie nearly all of the statistical models that we use as social scientists, like linear regression, probits models, GMM, etc. And while the average social scientist may not interact with matrices directly on a day to day basis – most social scientists use convenient packages for fitting these models (like <code class="docutils literal notranslate"><span class="pre">lm</span></code> in R, or <code class="docutils literal notranslate"><span class="pre">reg</span></code> in Stata) – in order to ensure social science graduate students understand what these models are doing, most graduate statistical methods courses will require students to work directly with matrices to implement these models before they are allowed to move on to just using these convenient packages.</p>
<p>The second reason is that matrices are a natural steppingstone from vectors to the data structure that we’ll talk about next – <code class="docutils literal notranslate"><span class="pre">data.frames</span></code>. So everything we learn here will be immediately applicable in our next lesson.</p>
<p>In the final reason is that while many social scientists don’t work with matrices on a day-to-day basis, you may end up being one of the social scientist who does, so I think it’s helpful to make sure you’re familiar with what matrices can do said that if you run into a situation where matrices are the right tool for the job, you’ll recognize it.</p>
</div>
<div class="section" id="constructing-matrices">
<h2>Constructing Matrices<a class="headerlink" href="#constructing-matrices" title="Permalink to this headline">¶</a></h2>
<p>As with vectors, there are a couple ways of constructing matrices. The first is just by combining a handful of vectors with either the <code class="docutils literal notranslate"><span class="pre">cbind()</span></code> (which will make input vector into a column of the matrix) or <code class="docutils literal notranslate"><span class="pre">rbind()</span></code> (which will make input vector into a row of the matrix):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">income</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">22000</span><span class="p">,</span> <span class="m">65000</span><span class="p">,</span> <span class="m">19000</span><span class="p">)</span>
<span class="n">age</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">20</span><span class="p">,</span> <span class="m">35</span><span class="p">,</span> <span class="m">55</span><span class="p">)</span>
<span class="n">education</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">12</span><span class="p">,</span> <span class="m">16</span><span class="p">,</span> <span class="m">11</span><span class="p">)</span>

<span class="nf">cbind</span><span class="p">(</span><span class="n">income</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">education</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<thead>
	<tr><th scope=col>income</th><th scope=col>age</th><th scope=col>education</th></tr>
</thead>
<tbody>
	<tr><td>22000</td><td>20</td><td>12</td></tr>
	<tr><td>65000</td><td>35</td><td>16</td></tr>
	<tr><td>19000</td><td>55</td><td>11</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">respondent1</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">20</span><span class="p">,</span> <span class="m">22000</span><span class="p">,</span> <span class="m">12</span><span class="p">)</span>
<span class="n">respondent2</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">35</span><span class="p">,</span> <span class="m">65000</span><span class="p">,</span> <span class="m">16</span><span class="p">)</span>
<span class="n">respondent3</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">55</span><span class="p">,</span> <span class="m">19000</span><span class="p">,</span> <span class="m">11</span><span class="p">)</span>

<span class="nf">rbind</span><span class="p">(</span><span class="n">respondent1</span><span class="p">,</span> <span class="n">respondent2</span><span class="p">,</span> <span class="n">respondent3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<tbody>
	<tr><th scope=row>respondent1</th><td>20</td><td>22000</td><td>12</td></tr>
	<tr><th scope=row>respondent2</th><td>35</td><td>65000</td><td>16</td></tr>
	<tr><th scope=row>respondent3</th><td>55</td><td>19000</td><td>11</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>In addition, you can also construct a matrix by giving it along vector and telling it how to “fold” the entries. This is an approach that is actually not super useful in the real world, but is very convenient for making examples, so… I’ll use it a little here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">ncol</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type int</caption>
<tbody>
	<tr><td>1</td><td>4</td><td>7</td></tr>
	<tr><td>2</td><td>5</td><td>8</td></tr>
	<tr><td>3</td><td>6</td><td>9</td></tr>
</tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="matrix-math">
<h2>Matrix Math<a class="headerlink" href="#matrix-math" title="Permalink to this headline">¶</a></h2>
<p>As with vectors, matrices provide a extremely efficient way of doing a lot of mathematical operation. Suppose that we had a matrix that had information on survey respondents and their incomes at different periods of time:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">salary_1980</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">30000</span><span class="p">,</span> <span class="m">45000</span><span class="p">,</span> <span class="m">22000</span><span class="p">)</span>
<span class="n">salary_1990</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">37000</span><span class="p">,</span> <span class="m">42000</span><span class="p">,</span> <span class="m">29000</span><span class="p">)</span>
<span class="n">salary_2000</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">49000</span><span class="p">,</span> <span class="m">47000</span><span class="p">,</span> <span class="m">33000</span><span class="p">)</span>

<span class="n">salaries</span> <span class="o">=</span> <span class="nf">cbind</span><span class="p">(</span><span class="n">salary_1980</span><span class="p">,</span> <span class="n">salary_1990</span><span class="p">,</span> <span class="n">salary_2000</span><span class="p">)</span>
<span class="n">salaries</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<thead>
	<tr><th scope=col>salary_1980</th><th scope=col>salary_1990</th><th scope=col>salary_2000</th></tr>
</thead>
<tbody>
	<tr><td>30000</td><td>37000</td><td>49000</td></tr>
	<tr><td>45000</td><td>42000</td><td>47000</td></tr>
	<tr><td>22000</td><td>29000</td><td>33000</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>And instead of writing them out in dollars, I wanted to convert them out to thousands of dollars to make the table easier to fit on a graph. I can just do:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">salaries_in_thousands</span> <span class="o">&lt;-</span> <span class="n">salaries</span> <span class="o">/</span> <span class="m">1000</span>
<span class="n">salaries_in_thousands</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<thead>
	<tr><th scope=col>salary_1980</th><th scope=col>salary_1990</th><th scope=col>salary_2000</th></tr>
</thead>
<tbody>
	<tr><td>30</td><td>37</td><td>49</td></tr>
	<tr><td>45</td><td>42</td><td>47</td></tr>
	<tr><td>22</td><td>29</td><td>33</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>Similarly, matrices can be added if they have the same size. If we also had a matrix of tax refunds, and we wanted to calculate everyone’s total income, we could just add the matrices:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">tax_refunds_1980</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">10000</span><span class="p">,</span> <span class="m">2000</span><span class="p">,</span> <span class="m">15000</span><span class="p">)</span>
<span class="n">tax_refunds_1990</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">14000</span><span class="p">)</span>
<span class="n">tax_refunds_2000</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">7000</span><span class="p">)</span>

<span class="n">refunds</span> <span class="o">&lt;-</span> <span class="nf">cbind</span><span class="p">(</span><span class="n">tax_refunds_1980</span><span class="p">,</span> <span class="n">tax_refunds_1990</span><span class="p">,</span> <span class="n">tax_refunds_2000</span><span class="p">)</span>
<span class="n">refunds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<thead>
	<tr><th scope=col>tax_refunds_1980</th><th scope=col>tax_refunds_1990</th><th scope=col>tax_refunds_2000</th></tr>
</thead>
<tbody>
	<tr><td>10000</td><td>    0</td><td>   0</td></tr>
	<tr><td> 2000</td><td>    0</td><td>   0</td></tr>
	<tr><td>15000</td><td>14000</td><td>7000</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">total_income</span> <span class="o">&lt;-</span> <span class="n">salaries</span> <span class="o">+</span> <span class="n">refunds</span> 
<span class="n">total_income</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<thead>
	<tr><th scope=col>salary_1980</th><th scope=col>salary_1990</th><th scope=col>salary_2000</th></tr>
</thead>
<tbody>
	<tr><td>40000</td><td>37000</td><td>49000</td></tr>
	<tr><td>47000</td><td>42000</td><td>47000</td></tr>
	<tr><td>37000</td><td>43000</td><td>40000</td></tr>
</tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="summarizing-matrices">
<h2>Summarizing Matrices<a class="headerlink" href="#summarizing-matrices" title="Permalink to this headline">¶</a></h2>
<p>Just as vectors had lots of tools for summarizing their properties, so too do matrices. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Num rows</span>
<span class="nf">nrow</span><span class="p">(</span><span class="n">total_income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">3</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Num cols</span>
<span class="nf">ncol</span><span class="p">(</span><span class="n">total_income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">3</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Overall statistics</span>
<span class="nf">mean</span><span class="p">(</span><span class="n">total_income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">42444.4444444444</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># And statistics calculated for each columns</span>
<span class="nf">colMeans</span><span class="p">(</span><span class="n">total_income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>salary_1980</dt><dd>41333.3333333333</dd><dt>salary_1990</dt><dd>40666.6666666667</dd><dt>salary_2000</dt><dd>45333.3333333333</dd></dl>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Or for each row!</span>
<span class="nf">rowMeans</span><span class="p">(</span><span class="n">total_income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>42000</li><li>45333.3333333333</li><li>40000</li></ol>
</div></div>
</div>
</div>
<div class="section" id="linear-algebra">
<h2>Linear Algebra<a class="headerlink" href="#linear-algebra" title="Permalink to this headline">¶</a></h2>
<p>In addition to being able to do element-wise operations like those illustrated above, R also supports an array of linear algebra operations for matrices. If you haven’t taken a linear algebra course before don’t worry too much about what’s in the section!</p>
<p>For example, matrix multiplication:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">matrix_1</span> <span class="o">&lt;-</span> <span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span>
<span class="n">matrix_1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type int</caption>
<tbody>
	<tr><td>1</td><td>4</td><td>7</td></tr>
	<tr><td>2</td><td>5</td><td>8</td></tr>
	<tr><td>3</td><td>6</td><td>9</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">matrix_2</span> <span class="o">&lt;-</span> <span class="nf">matrix</span><span class="p">(</span><span class="m">9</span><span class="o">:</span><span class="m">17</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span>
<span class="n">matrix_2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type int</caption>
<tbody>
	<tr><td> 9</td><td>12</td><td>15</td></tr>
	<tr><td>10</td><td>13</td><td>16</td></tr>
	<tr><td>11</td><td>14</td><td>17</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Matrix multiplication </span>
<span class="n">matrix_1</span> <span class="o">%*%</span> <span class="n">matrix_2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<tbody>
	<tr><td>126</td><td>162</td><td>198</td></tr>
	<tr><td>156</td><td>201</td><td>246</td></tr>
	<tr><td>186</td><td>240</td><td>294</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Transpose matrix</span>
<span class="nf">t</span><span class="p">(</span><span class="n">matrix_1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type int</caption>
<tbody>
	<tr><td>1</td><td>2</td><td>3</td></tr>
	<tr><td>4</td><td>5</td><td>6</td></tr>
	<tr><td>7</td><td>8</td><td>9</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eigen vector of matrix</span>
<span class="nf">eigen</span><span class="p">(</span><span class="n">matrix_1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eigen() decomposition
$values
[1]  1.611684e+01 -1.116844e+00 -5.700691e-16

$vectors
           [,1]       [,2]       [,3]
[1,] -0.4645473 -0.8829060  0.4082483
[2,] -0.5707955 -0.2395204 -0.8164966
[3,] -0.6770438  0.4038651  0.4082483
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inverse of a Matrix -- called solve.</span>

<span class="c1"># Note I have to do this with a different matrix, since </span>
<span class="c1"># `matrix_1` isn&#39;t invertable! :)</span>

<span class="nf">solve</span><span class="p">(</span><span class="n">salaries</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<tbody>
	<tr><th scope=row>salary_1980</th><td> 8.607784e-06</td><td> 7.485030e-05</td><td>-0.0001193862</td></tr>
	<tr><th scope=row>salary_1990</th><td>-1.687874e-04</td><td>-3.293413e-05</td><td> 0.0002975299</td></tr>
	<tr><th scope=row>salary_2000</th><td> 1.425898e-04</td><td>-2.095808e-05</td><td>-0.0001515719</td></tr>
</tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="linear-regression-with-matrices">
<h2>Linear Regression with Matrices<a class="headerlink" href="#linear-regression-with-matrices" title="Permalink to this headline">¶</a></h2>
<p>To illustrate how matrices relate to the type of statistics that we do on a daily basis as social scientists, let’s quickly illustrate how linear regressions actually work!</p>
<p>(If you’ve never seen linear regression before, feel free to skip the section)</p>
<p>Suppose that we wanted to regress income on age and education using the toy data set we made above. The easy way to do this in R is by using the <code class="docutils literal notranslate"><span class="pre">lm</span></code> package as follows (don’t worry about the details of how I do this, I just want to quickly illustrate the way most people have probably seen linear regression done if they’ve worked with R before):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">lm</span><span class="p">(</span><span class="n">income</span> <span class="o">~</span> <span class="n">age</span> <span class="o">+</span> <span class="n">education</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call:
lm(formula = income ~ age + education)

Coefficients:
(Intercept)          age    education  
    -102000          200        10000  
</pre></div>
</div>
</div>
</div>
<p>Now as you’ll learn in your statistics courses, linear algebra can actually be expressed in terms of matrices as $<span class="math notranslate nohighlight">\((X'X)^{-1}X'Y\)</span>$ (The inverse of the transverse of X matrix multiplied by X times the transpose of X times Y, where X is a matrix of predictors, and Y is the variable we’re trying to predict). So we can write this directly as:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make X. note we need a vector of 1s for our intercept.</span>
<span class="n">X</span> <span class="o">&lt;-</span> <span class="nf">cbind</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">education</span><span class="p">,</span> <span class="nf">rep</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">))</span>
<span class="n">X</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<thead>
	<tr><th scope=col>age</th><th scope=col>education</th><th scope=col></th></tr>
</thead>
<tbody>
	<tr><td>20</td><td>12</td><td>1</td></tr>
	<tr><td>35</td><td>16</td><td>1</td></tr>
	<tr><td>55</td><td>11</td><td>1</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Then we can calculate the components separately</span>
<span class="c1"># to make the mapping to the formula clear. </span>
<span class="c1"># Here&#39;s X&#39; (i.e. X transpose)</span>

<span class="n">X_transpose</span> <span class="o">&lt;-</span> <span class="nf">t</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">X_transpose</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 3 of type dbl</caption>
<tbody>
	<tr><th scope=row>age</th><td>20</td><td>35</td><td>55</td></tr>
	<tr><th scope=row>education</th><td>12</td><td>16</td><td>11</td></tr>
	<tr><th scope=row></th><td> 1</td><td> 1</td><td> 1</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># And now the block on the left: (X&#39;X)^-1</span>
<span class="n">inverse_of_X_transpose_times_X</span> <span class="o">&lt;-</span> <span class="nf">solve</span><span class="p">(</span><span class="n">X_transpose</span> <span class="o">%*%</span> <span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># And the block on the right: X&#39;Y</span>
<span class="n">X_transpose_y</span> <span class="o">&lt;-</span> <span class="n">X_transpose</span> <span class="o">%*%</span> <span class="n">income</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># And putting it all together we get:</span>
<span class="n">inverse_of_X_transpose_times_X</span> <span class="o">%*%</span> <span class="n">X_transpose_y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 1 of type dbl</caption>
<tbody>
	<tr><th scope=row>age</th><td>    200</td></tr>
	<tr><th scope=row>education</th><td>  10000</td></tr>
	<tr><th scope=row></th><td>-102000</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>Ta-da! That final matrix gives us our regression coefficients, which are identical to those from <code class="docutils literal notranslate"><span class="pre">lm</span></code>! Now you know how to do linear regression using matrices in R!</p>
<p>(Note we broke out all the terms to make it easier to map the R code onto the equation for linear regression – you can of course just run this in one line if you want:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">solve</span><span class="p">(</span><span class="nf">t</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%*%</span> <span class="n">X</span><span class="p">)</span> <span class="o">%*%</span> <span class="p">(</span><span class="nf">t</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">%*%</span> <span class="n">income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 3 × 1 of type dbl</caption>
<tbody>
	<tr><th scope=row>age</th><td>    200</td></tr>
	<tr><th scope=row>education</th><td>  10000</td></tr>
	<tr><th scope=row></th><td>-102000</td></tr>
</tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="recap">
<h2>Recap<a class="headerlink" href="#recap" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Matrices are a natural extension of vectors from one dimension into two dimensions.</p></li>
<li><p>You can think of a matrix as a collection of vectors of the same length side by side.</p></li>
<li><p>Like vectors, we can do math using full matrices, as well as get summary statistics on both matrices as a whole and their rows/columns</p></li>
<li><p>R implements lots of linear algebra-specific mathematical operations for matrices, like matrix multiplication and inverses.</p></li>
</ul>
</div>
<div class="section" id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>Now that we’re familiar with matrices, <a class="reference internal" href="manipulating_matrices.html"><span class="doc std std-doc">time to learn to manipulate them!</span></a></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            kernelName: "ir",
            path: "./10_programming"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Josh Clinton and Nick Eubank<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>